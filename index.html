<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portfolio</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg==" crossorigin="anonymous" referrerpolicy="no-referrer" />

</head>
<body>
  <div class="portfolio-container">
      <ul class="navlist">
          <li><a href="index.html">Home</a></li>
          <li><a href="work.html">Work</a></li>
          <li><a href="about.html">About</a></li>
          <li><a href="project.html">Project</a></li>
          
      </ul>

      <div class="left-container">
        <div class="icons"> 
            <i class="fa-brands fa-facebook"></i>
            <i class="fa-brands fa-linkedin"></i>
            <i class="fa-brands fa-twitter"></i>
            <i class="fa-brands fa-codepen"></i>

        </div>
        <div class="content">
            <p class="intro">Hello I am
                <span>Rana Asif</span><span id="role"></span>
            </p>
             <p class="details">I am a skilled web developer with six months of hands on experience in creating responsive and
                user-freindly websites. Having a background in content creation, I bring a unique
                perspectve to webdevelopment, ensuring that both the design and functionality of 
                websites align with the needs of the audience. With expertise in front-end technologies
                like Html, CSS, Javascript and Bootstrap, I am dedicated to delivering visually 
                appealing and seamless user experiences. My passion for continuous learning,
                along with my creative mindest, allows me to blend technical expertise with 
                artistic vision in every project I take on.
             </p>
             <div class="btn-container">
                <a href="about.html"><button>Hire me</button></a>
                
                <a href="project.html"><button>View Projects</button></a>
                
             </div>
            </div>
            <div class="bottom-container">
            <h3 class="bottom-heading">
                My Projects Overview
            </h3>

             <p id="typewriter" class="project-details">

             </p>
        </div>
      </div>
      <div class="right-container"></div>
        <div class="design">
            <div class="circle"></div>
            <div class="circle"></div>
        </div>
    </div>
<!-- Chat Widget -->
<div id="chat-widget" style="position: fixed; bottom: 20px; right: 20px; z-index: 9999;">
  <button onclick="toggleChat()" style="padding: 10px 20px;">Need Help?</button>
  <div id="chat-area" style="display: none; width: 300px; height: 400px; border: 1px solid #ccc; background: white; overflow-y: auto; padding: 10px; border-radius: 10px; display: flex; flex-direction: column; justify-content: space-between;">
    <div id="chat-messages" style="flex-grow: 1; overflow-y: auto; display: flex; flex-direction: column;"></div>
    <div style="margin-top: 10px; display: flex;">
      <input type="text" id="user-input" placeholder="Type your message..." style="flex: 1; padding: 6px;" />
      <button onclick="sendMessage()" style="margin-left: 5px;">Send</button>
    </div>
  </div>
</div>

<script>
  function toggleChat() {
    const chat = document.getElementById('chat-area');
    chat.style.display = chat.style.display === 'none' ? 'flex' : 'none';

    // Show welcome message once
    if (!window.chatInitialized) {
      addMessage("Hi, how can I help you?", "agent");
      window.chatInitialized = true;
    }
  }

  function addMessage(message, sender) {
    const msgDiv = document.createElement('div');
    msgDiv.textContent = message;
    msgDiv.style.margin = "5px";
    msgDiv.style.padding = "8px 12px";
    msgDiv.style.borderRadius = "10px";
    msgDiv.style.maxWidth = "80%";
    msgDiv.style.wordWrap = "break-word";

    if (sender === "agent") {
      msgDiv.style.backgroundColor = "#e0e0e0";
      msgDiv.style.alignSelf = "flex-start";
    } else {
      msgDiv.style.backgroundColor = "#dcf8c6";
      msgDiv.style.alignSelf = "flex-end";
    }

    msgDiv.style.display = "inline-block";

    const chatMessages = document.getElementById('chat-messages');
    chatMessages.appendChild(msgDiv);
    chatMessages.scrollTop = chatMessages.scrollHeight;
  }

  async function sendMessage() {
    const input = document.getElementById('user-input');
    const message = input.value.trim();
    if (!message) return;

    // Show user message
    addMessage(message, "user");
    input.value = "";

    try {
      const response = await fetch('https://YOUR_N8N_WEBHOOK_URL', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ query: message })
      });

      const data = await response.json();

      if (data.reply) {
        addMessage(data.reply, "agent");
      } else {
        addMessage("Sorry, I couldn't understand that.", "agent");
      }
    } catch (error) {
      console.error("Error sending message to agent:", error);
      addMessage("Error: Could not reach agent.", "agent");
    }
  }
</script>

</body>
<script type="text/javascript">
      const roles = ["Content Creator","Web Developer","Youtuber","Video Editor"];
      let currentRoleIndex = 0;

      const roleElement = document.getElementById("role");

      function typeRole(role){
        let i = 0;
        roleElement.innerHTML="";
        roleElement.style.width="0";
        /*Reset width for typwriter effect*/

        const typingInterval = setInterval(()=>
          {
            roleElement.innerHTML += role[i];
            i++;

            if(i===role.length){
                clearInterval(typingInterval);
                setTimeout(()=>
            deleteRole(role),2000);
            }
          },150);
      }

       function deleteRole(role){
        let i = role.length-1;

        const deletingInterval = setInterval(() =>
         { 
           roleElement.innerHTML = 
           roleElement.innerHTML.slice(0,i);
           i--;
           
           if(i<0){
            clearInterval(deletingInterval);
            currentRoleIndex=(currentRoleIndex+1)%roles.length;
            setTimeout(()=>
        typeRole(roles[currentRoleIndex]),500);
           }
        }, 100);
       } 

       window.onload =  () =>{
        typeRole(roles[currentRoleIndex]);
       };

       const text = "One of my recent projects is the Pizza Website which I created with Html, CSS and JavaScript.I have created many websites using wordpress.";
const typewriter = document.getElementById("typewriter");

function type() {
  typewriter.textContent = ""; // Clear text content
  let index = 0;

  function typeChar() {
    if (index < text.length) {
      typewriter.textContent += text.charAt(index);
      index++;
      setTimeout(typeChar, 100); // Adjust typing speed here
    } else {
      setTimeout(type, 1000); // Pause before restarting (1 second here)
    }
  }

  typeChar();
}

type();



</script>
</html>
